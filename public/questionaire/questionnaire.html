<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Volunteer Questionnaire</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Vue.js 3.2.37 Script -->
    <script src="https://cdn.jsdelivr.net/npm/vue@3.2.37/dist/vue.global.min.js"></script>

    <style>
        body,
        html {
            height: 100%;
            margin: 0;
            font-family: 'Arial', sans-serif;
            background-color: #f7f7f7;
        }

        .myContainer {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 20px;
            margin:  auto;
            position: relative;
            width: 65%;
        }

        /* Leave space at the top for the animated character */
        .character-space {
            height: 150px;
            position: relative;
            text-align: center;
        }

        /* Logo styling */
        .logo-container {
            position: absolute;
            top: 20px;
            left: 20px;
        }

        .logo {
            max-width: 6vw;
            height: auto;
        }

        /* Header (h2) with larger font */
        h2 {
            text-align: center;
            font-size: 2rem;
            color: #333;
            margin-bottom: 1rem;
        }

        /* Scrollable list styling */
        .scrollable-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 8px;
        }

        label {
            margin-left: 10px;
            font-size: 1.1rem;
        }

        /* Button groups with back on the left and next on the right */
        .btn-group {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            margin-left: 20px;
            margin-right: 20px;

        }

        /* Custom button styling */
        .btn-custom {
            padding: 15px 30px;
            font-size: 1.2rem;
            background-color: #ff0000;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .btn-custom:disabled {
            background-color: #b3b3b3;
        }

        .btn-custom:hover:not(:disabled) {
            background-color: #b30000;
        }

        /* Progress bar styling */
        .progress-container {
            width: 100%;
            background-color: #f3f3f3;
            border-radius: 8px;
            overflow: hidden;
            margin-top: 20px;
        }

        .progress-bar {
            height: 20px;
            background-color: #ff0000;
            transition: width 0.4s ease;
        }







        /* Character image styling */
        .character-img {
            width: 180px;
            /* Set character image size */
        }

        /* Flex container to align the character and the speech bubble */
        .character-container {
            display: flex;
            align-items: flex-start;
            /* Align bubble with the top of the character */
        }

        .character-container .speech {
            margin-left: 0px;
            /* Space between the character and the speech bubble */
        }

        .speech-bubble {
            position: relative;
            background: transparent;
            /* No background color */
            border: 2px solid #ba0000;
            /* Border for the speech bubble */
            border-radius: .4em;
            /* Rounded corners for the speech bubble */
            /* padding: 3px 3px; */
            padding: 2px;
            max-width: 280px;
            font-size: 1rem;
        }

        /* The arrow pointing towards the left side of the speech bubble */
        .speech-bubble:after {
            content: '';
            position: absolute;
            left: 0;
            top: 40%;
            width: 0;
            height: 0;
            border: 15px solid transparent;
            /* Adjust size by changing border widths */
            border-right-color: #ba0000;
            /* Same color as the speech bubble border */
            border-left: 0;
            border-bottom: 0;
            margin-top: -7.5px;
            /* Center the arrow vertically */
            margin-left: -15px;
            /* Position the arrow to the left */
        }


        /* Responsive design */
        /* @media (max-width: 768px) {
            .btn-custom {
                width: 100%;
            }

            .character-space {
                height: 100px;
            }

            h2 {
                font-size: 1.5rem;
            }
        } */
    </style>
</head>

<body>
    <div id="app">
        <div>
            <!-- Navbar -->
            <nav class="navbar navbar-light bg-light">
                <div class="container d-flex justify-content-between ">
                    <!-- Use mx-auto for centering on smaller screens, and align left on larger screens -->
                    <a>
                        <!-- Animated char -->
                        <div class="container mt-5">
                            <!-- Character and speech bubble aligned horizontally -->
                            <div class="character-container">
                                <!-- Animated GIF of the character -->
                                <img src="duolingo.gif" alt="Animated Character" class="character-img img-fluid">

                                <!-- Speech bubble -->
                                <div class="speech speech-bubble">
                                    <h5>{{questions[currentStep-1]}}</h5>
                                </div>
                            </div>
                        </div>
                    </a>
                    <a class="navbar-brand d-none d-md-block" href="#">
                        <img src="Volunteer.png" alt="Logo" class="img-fluid" style="max-width: 70px;">
                    </a>
                </div>
            </nav>

        </div>
        <div class="myContainer">
            <!-- Interests Page -->
            <div v-if="currentStep === 1" class="form-page active">

                <div class="scrollable-list">
                    <div v-for="interest in interestsList" :key="interest" class="form-check mb-2">
                        <input class="form-check-input" type="checkbox" v-model="formData.interests" :value="interest"
                            :id="interest">
                        <label class="form-check-label" :for="interest">{{ interest }}</label>
                    </div>
                </div>
                <!-- Progress Bar directly below the form -->
                <div class="progress-container">
                    <div class="progress-bar" :style="{ width: progress + '%' }"></div>
                </div>

                <!-- First page next button on the right -->
                <div style="position: fixed;bottom: 50px; width: 100%; left: 0; ">
                    <hr>
                    <div class="btn-group">
                        <span></span>
                        <button class="btn-custom" @click="nextStep"
                            :disabled="formData.interests.length === 0">Next</button>
                    </div>

                </div>
            </div>

            <!-- Skills Page -->
            <div v-if="currentStep === 2" class="form-page active">
                <div class="scrollable-list">
                    <div v-for="skill in skillsList" :key="skill" class="form-check mb-2">
                        <input class="form-check-input" type="checkbox" v-model="formData.skills" :value="skill"
                            :id="skill">
                        <label class="form-check-label" :for="skill">{{ skill }}</label>
                    </div>
                </div>
                <!-- Progress Bar directly below the form -->
                <div class="progress-container">
                    <div class="progress-bar" :style="{ width: progress + '%' }"></div>
                </div>
                <!-- Back on the left, next on the right -->
                <div style="position: fixed;bottom: 50px; width:100%; left: 0;">
                    <hr>
                    <div class="btn-group">
                        <button class="btn-custom" @click="prevStep">Back</button>
                        <button class="btn-custom" @click="nextStep"
                            :disabled="formData.skills.length === 0">Next</button>
                    </div>
                </div>
            </div>

            <!-- Availability Page -->
            <div v-if="currentStep === 3" class="form-page active">
                <div class="scrollable-list">
                    <div v-for="day in daysOfWeek" :key="day" class="form-check mb-2">
                        <input class="form-check-input" type="checkbox" v-model="formData.availability" :value="day"
                            :id="day">
                        <label class="form-check-label" :for="day">{{ day }}</label>
                    </div>
                </div>
                <!-- Progress Bar directly below the form -->
                <div class="progress-container">
                    <div class="progress-bar" :style="{ width: progress + '%' }"></div>
                </div>
                <!-- Back on the left, next on the right -->
                <div style="position: fixed;bottom: 50px; width:100%; left: 0;">
                    <hr>
                    <div class="btn-group">
                        <button class="btn-custom" @click="prevStep">Back</button>
                        <button class="btn-custom" @click="nextStep"
                            :disabled="formData.availability.length === 0">Next</button>
                    </div>
                </div>
            </div>

            <!-- Address and Postal Code Page -->
            <div v-if="currentStep === 4" class="form-page active">
                <div class="mb-3">
                    <label for="address" class="form-label">Full Address (optional)</label>
                    <input type="text" v-model="formData.address" class="form-control" placeholder="Enter your address">
                </div>
                <div class="mb-3">
                    <label for="postalCode" class="form-label">Postal Code (required)</label>
                    <input type="text" v-model="formData.postalCode" class="form-control"
                        placeholder="Enter your postal code" required >
                    <p class="error text-danger" v-if="postalCodeError">{{ postalCodeError }}</p>
                </div>
                <!-- Progress Bar directly below the form -->
                <div class="progress-container">
                    <div class="progress-bar" :style="{ width: progress + '%' }"></div>
                </div>
                <!-- Back on the left, submit on the right -->
                <div class="btn-group">
                    <button class="btn-custom" @click="prevStep">Back</button>
                    <button class="btn-custom" @click="submitForm">Submit</button>
                </div>
            </div>
        </div>
    </div>


    <!-- Vue.js App -->
    <script>


        const app = Vue.createApp({
            data() {
                return {
                    currentStep: 1,  // Track the current step number
                    formData: {
                        interests: [],
                        skills: [],
                        availability: [],
                        address: '',
                        postalCode: '',
                    },
                    postalCodeError: '',  // To display error message
                    isPostalCodeValid: false,  // Track if postal code is valid
                    // Interests options
                    interestsList: [
                        'Environmental', 'Community Development', 'Education', 'Healthcare', 'Animal Welfare',
                        'Disaster Relief', 'Youth Services', 'Senior Care', 'Human Rights', 'Sports Coaching',
                        'Poverty Alleviation', 'Homelessness', 'Cultural Heritage', 'Mental Health', 'Advocacy'
                    ],
                    // Skills options
                    skillsList: [
                        'First Aid/CPR', 'Teaching', 'Public Speaking', 'Fundraising', 'Event Planning', 'Communication', 'Leadership', 'Project Management', 'Mentoring/Coaching',
                        'Social Media Management', 'Grant Writing', 'Graphic Design', 'Web Development', 'Data Analysis',
                        'Tutoring', 'Photography/Videography', 'Technical Support', 'Healthcare Assistance', 'Food Preparation', 'Marketing'
                    ],
                    // Days of the week options
                    daysOfWeek: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],
                    //form questions
                    questions: ['Now let’s find the best place to start! What are your main interests?','Now what are your main skills?','What are your available days?','To help us match you with the nearest and most suitable volunteering opportunities, please provide your home location.']

                };
            },
            computed: {
                // Calculate the progress percentage
                progress() {
                    return (this.currentStep / 4) * 100;
                }
            },
            methods: {
                nextStep() {
                    if (this.currentStep < 4) {
                        this.currentStep++;
                    }
                },
                prevStep() {
                    if (this.currentStep > 1) {
                        this.currentStep--;
                    }
                },
                validatePostalCode() {
                    const postalCodePattern = /^[0-9]{8}$/;
                    if (!postalCodePattern.test(this.formData.postalCode)) {
                        this.postalCodeError = 'Postal code must be exactly 8 digits.';
                        this.isPostalCodeValid = false;
                    } else {
                        this.postalCodeError = '';
                        this.isPostalCodeValid = true;
                    }
                },
                submitForm() {
                    this.validatePostalCode();
                    if (this.isPostalCodeValid) {
                        console.log(this.formData);
                        alert('Form submitted successfully! Check the console for data.');
                    }
                }
            }
        }).mount('#app');
    </script>
</body>


</html>